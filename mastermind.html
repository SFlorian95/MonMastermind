<!DOCTYPE html>
<html>
    <head>
        <title>Animations Javascript</title>
        
        <style>
            table {
              border-collapse: collapse;
            }

            table, th, td {
              border: 1px solid grey;
             
            }
            td {
                width:50px;
              height:50px;
              }
        </style>
        
    </head>
    <body>
        
        <table>
          <tr id="line4">
            <td onclick="setColor(this, 4)"></td>
            <td onclick="setColor(this, 4)"></td>
            <td onclick="setColor(this, 4)"></td>
            <td onclick="setColor(this, 4)"></td>
            <td>
                <table style="margin: -2px;margin-bottom: -1px;">
                    <tr>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                    </tr>
                </table>
            </td>
            
            <td><button onclick="validerLigne(4)">Valider</button></td>
          </tr>
            <tr id="line3">
            <td onclick="setColor(this, 3)"></td>
            <td onclick="setColor(this, 3)"></td>
            <td onclick="setColor(this, 3)"></td>
            <td onclick="setColor(this, 3)"></td>
            <td>
                <table style="margin: -2px;margin-bottom: -1px;">
                    <tr>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                    </tr>
                </table>
            </td>
            
            <td><button onclick="validerLigne(3)">Valider</button></td>
          </tr>
          <tr id="line2">
            <td onclick="setColor(this, 2)"></td>
            <td onclick="setColor(this, 2)"></td>
            <td onclick="setColor(this, 2)"></td>
            <td onclick="setColor(this, 2)"></td>
            <td>
                <table style="margin: -2px;margin-bottom: -1px;">
                    <tr>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                    </tr>
                </table>
            </td>
            
            <td><button onclick="validerLigne(2)">Valider</button></td>
          </tr>
          <tr id="line1">
            <td onclick="setColor(this, 1)"></td>
            <td onclick="setColor(this, 1)"></td>
            <td onclick="setColor(this, 1)"></td>
            <td onclick="setColor(this, 1)"></td>
            <td>
                <table style="margin: -2px;margin-bottom: -1px;">
                    <tr>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                    </tr>
                </table>
            </td>
            <td><button onclick="validerLigne(1)">Valider</button></td>
          </tr>
        </table>
            
            
        <table style="margin-top:40px;margin-left:4px;">
            <tr>
                <td id="red"  style="background-color:red;" onclick="newColor(this.id);"></td>
                <td id="blue" style="background-color:blue;" onclick="newColor(this.id);"></td>
                <td id="yellow" style="background-color:yellow;" onclick="newColor(this.id);"></td>
                <td id="green" style="background-color:green;" onclick="newColor(this.id);"></td>
                <td id="grey" style="background-color:grey;" onclick="newColor(this.id);"></td>
                <td id="pink" style="background-color:pink;" onclick="newColor(this.id);"></td>
            </tr>   
        </table>
        
    <script>
    
        let selectColor = "red";
        let currentLine = 1;

        function newColor(idColor) {
            selectColor = idColor;
        }
        
        function setColor(e, line) {
            if (line == currentLine) {
                e.style.backgroundColor = selectColor;
            }
        }
        
        
        //********************************************************************
        //Tableau de 4 couleurs aléatoires
        let secretColors=["red","blue","yellow","green","grey","pink"];
        for(let position = secretColors.length-1; position>=1; position--){
            
            //hasard reçoit un nombre entier aléatoire entre 0 et position
            let hasard = Math.floor(Math.random()*(position+1));
            
            //Echange
            let sauve = secretColors[position];
            secretColors[position] = secretColors[hasard];
            secretColors[hasard] = sauve;

        }
        secretColors.pop();
        secretColors.pop();
        console.log(secretColors);
        //********************************************************************
        
    </script>
    </body>
</html>